"use strict";(self.webpackChunkwebpack_react_typescript_scss=self.webpackChunkwebpack_react_typescript_scss||[]).push([[138],{7193:(t,n,e)=>{e.d(n,{m:()=>l});var r=e(4705),o=e(296),i=e(6540),a=e(6942),s=e.n(a),c=e(4848),l=function(t){var n=t.options,e=t.selectedOption,a=t.onSelect,l=t.className,u=void 0===l?"":l,d=t.contentClassName,f=void 0===d?"":d,m=t.hasError,p=(0,i.useState)(!1),v=(0,o.A)(p,2),_=v[0],h=v[1],b=(0,i.useRef)(null);return(0,i.useEffect)((function(){var t=function(t){b.current&&!b.current.contains(t.target)&&h(!1)};return document.addEventListener("mousedown",t),function(){document.removeEventListener("mousedown",t)}}),[]),(0,c.jsxs)("div",{className:s()("dropdown",{"dropdown--active":_,"dropdown--error":m}),ref:b,children:[(0,c.jsxs)("button",{type:"button",onClick:function(){h(!_)},className:s()("dropdown__btn",(0,r.A)({},u,u)),children:[(0,c.jsx)("span",{className:"dropdown__btn-text",children:e}),(0,c.jsx)("svg",{className:s()("dropdown__svg",{"dropdown__svg--active":_}),width:"14",height:"9",viewBox:"0 0 14 9",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,c.jsx)("path",{d:"M1 1.5L7 7.5L13 1.5",stroke:"#036",strokeWidth:"2",strokeLinecap:"round"})})]}),(0,c.jsx)("ul",{className:s()("dropdown__content",(0,r.A)({},f,f)),style:{display:_?"flex":"none"},children:n.map((function(t){return(0,c.jsx)("button",{type:"button",className:"dropdown__item",onClick:function(){h(!1),a(t)},children:t},t)}))})]})}},4639:(t,n,e)=>{e.d(n,{d:()=>a}),e(6540);var r=e(6942),o=e.n(r),i=e(4848),a=function(t){var n=t.total,e=t.perPage,r=t.currentPage,a=t.onPageChange,s=Math.ceil(n/e),c=[];if(n<=e)return null;for(var l=function(t){c.push((0,i.jsx)("li",{className:"pagination__item",children:(0,i.jsx)("button",{className:o()("pagination__link",{"pagination__link--active":r===t}),onClick:function(){return a(t)},children:t})},t))},u=1;u<=s;u+=1)l(u);return(0,i.jsxs)("div",{className:o()("pagination",{"pagination--hidden":1===s}),children:[(0,i.jsx)("button",{className:"pagination__button",onClick:function(){1!==r&&a(r-1)},disabled:1===r,children:"< Попередня"}),(0,i.jsx)("ol",{className:"pagination__list",children:c}),(0,i.jsx)("button",{className:"pagination__button",onClick:function(){r!==s&&a(r+1)},disabled:r===s,children:"Наступна >"})]})}},6592:(t,n,e)=>{e.r(n),e.d(n,{default:()=>b});var r=e(5458),o=e(296),i=e(7193),a=e(4639),s=e(2672),c=e(7665),l=e(3377),u=e(3029),d=function(t){return t.date="За датою додавання",t.rating="За рейтингом",t}({}),f=e(7767),m=e(4976),p=e(7197),v=e(5344),_=e(6540),h=e(4848);const b=function(){var t=(0,u.j)(),n=(0,f.Zp)(),e=Object.values(d),b=(0,m.ok)(),g=(0,o.A)(b,2),y=g[0],j=g[1],x=(0,u.G)((function(t){return t.favorites.favorites})),w=(0,u.G)((function(t){return t.drinks.drinks})),N=y.get("sort")||d.date,k=Number(y.get("page"))||1,S=x.map((function(t){return{date:t.date,item:w.find((function(n){return n.id===t.id}))}})).filter((function(t){return void 0!==t.item}));function A(t){var n=(0,p.x)(t,y);j(n)}var C=S.length,P=8*(k-1),E=P+8<C?P+8:C,L=(0,r.A)(S).slice(P,E).sort(function(t){switch(t){case d.date:return function(t,n){return t.date-n.date};case d.rating:return function(t,n){return n.item.rating-t.item.rating}}}(N));return(0,_.useEffect)((function(){window.scrollTo(0,0)}),[k]),C<=8&&1!==k&&n("/favorites"),(0,h.jsx)(c.m,{children:(0,h.jsxs)("div",{className:"favorites",children:[(0,h.jsx)("h1",{className:"favorites__title",children:"СПИСОК БАЖАНЬ"}),x.length>0?(0,h.jsxs)("div",{className:"favorites__content",children:[(0,h.jsxs)("div",{className:"favorites__header",children:[(0,h.jsx)(i.m,{options:e,selectedOption:N,onSelect:function(t){t===d.date?A({sort:null}):A({sort:t})},className:"favorites__dropdown"}),(0,h.jsx)("button",{className:"favorites__clear",onClick:function(){return t(v.DC())},children:"Очистити список"})]}),(0,h.jsx)("div",{className:"favorites__cards",children:L.map((function(t){return(0,h.jsx)(s.Z,{product:t.item,classname:"favorites__card"},t.item.id)}))}),(0,h.jsx)(a.d,{total:C,perPage:8,currentPage:k,onPageChange:function(t){A(1===t?{page:null}:{page:t})}})]}):(0,h.jsxs)("div",{className:"favorites__empty",children:[(0,h.jsx)("h2",{className:"favorites__empty-title",children:"На превеликий жаль, ваш список побажань порожній :("}),(0,h.jsx)(m.N_,{className:"favorites__empty-button",to:"/catalog",children:"Ознайомитися з каталогом"})]}),(0,h.jsx)(l.y,{})]})})}},7197:(t,n,e)=>{e.d(n,{x:()=>o});var r=e(296);function o(t,n){for(var e=new URLSearchParams(n),o=function(){var t=(0,r.A)(a[i],2),n=t[0],o=t[1];null===o||""===o?e.delete(n):Array.isArray(o)?(e.delete(n),o.forEach((function(t){return e.append(n,t.toString())}))):e.set(n,o.toString())},i=0,a=Object.entries(t);i<a.length;i++)o();return e.toString()}},4705:(t,n,e)=>{function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}function o(t,n,e){return o=function(t,n){if("object"!=r(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var o=e.call(t,"string");if("object"!=r(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n),(n="symbol"==r(o)?o:o+"")in t?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e,t;var o}e.d(n,{A:()=>o})},5458:(t,n,e)=>{e.d(n,{A:()=>i});var r=e(3145),o=e(7800);function i(t){return function(t){if(Array.isArray(t))return(0,r.A)(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||(0,o.A)(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}}}]);
//# sourceMappingURL=138.bundle.js.map